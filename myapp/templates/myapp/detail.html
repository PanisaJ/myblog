<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<style>
div {
  width: 800px;
  margin: auto;
}
div.blog {
  background-color: lightgrey;
  border: 2px solid black;
  padding: 50px;
}
div.comment {
  background-color: lightgrey;
  border: 2px solid black;
  padding: 50px;
  width: 700px;
}
.checked {
  color: orange;
}
</style>
{% load widget_tweaks %}
{% block content %}
<div class="blog">
    <a href="{% url 'index'%}">back<a>
    <h2>{{ blog.blog_title }}</h2>
    {{ blog.blog_text }}</br></br>
    {{ blog.updated_on }}&nbsp;{{ blog.user }}
</div></br>
{% if user.is_authenticated %}
    <form method="post">
        {% csrf_token %}
        {% for field in form.visible_fields %}
        <div class="form-group">
            {{ field.label_tag }}
            {% if form.is_bound %}
                {% if field.errors %}
                    {% render_field field class="form-control is-invalid" %}
                    {% for error in field.errors %}
                    <div class="invalid-feedback">
                        {{ error }}
                    </div>
                    {% endfor %}
                {% else %}
                    {% render_field field class="form-control is-valid" %}
                {% endif %}
            {% else %}
                {% render_field field class="form-control" %}
            {% endif %}

            {% if field.help_text %}
                <small class="form-text text-muted">{{ field.help_text }}</small>
            {% endif %}
        {% endfor %}</br>
       
        </br><button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>
{% endif %}
    {% for comment in blog.sorted_comment_set %}
        <div class="comment">
            {{ comment.comment_text }}</br>
            {% for star in star_num %}
                <span class="fa fa-star {% if star < comment.user_rating %}checked{% endif %}"></span>
            {% endfor %}</br>
            {{ comment.user }}</br>
            {{ comment.created_on }}
        </div></br>
    {% endfor %}
{% endblock %}